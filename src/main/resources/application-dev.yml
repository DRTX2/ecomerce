# =====================================================
# PERFIL DE DESARROLLO
# =====================================================
# Solo contiene configuración específica de desarrollo
# Hereda toda la configuración común de application.yml
# =====================================================

spring:
  config:
    activate:
      on-profile: dev

  # Más info en desarrollo
  jpa:
    show-sql: true
    properties:
      hibernate:
        format_sql: true
        use_sql_comments: true

# =========================
# Server (Desarrollo)
# =========================
server:
  error:
    include-message: always
    include-binding-errors: always
    include-stacktrace: always  # Ver stack traces completos en dev

# =========================
# Security (Desarrollo - tiempos largos para comodidad)
# =========================
security:
  jwt:
    # Tiempos largos para desarrollo (menos molesto)
    access-token-expiration: ${JWT_ACCESS_EXPIRATION:86400000}   # 24 horas
    refresh-token-expiration: ${JWT_REFRESH_EXPIRATION:604800000} # 7 días
  token-cleanup:
    cron: ${TOKEN_CLEANUP_CRON:0 */30 * * * *}  # Cada 30 minutos (para testing)
    revoked-token-retention-days: ${REVOKED_TOKEN_RETENTION_DAYS:30}

# =========================
# Logging (Desarrollo - más verboso)
# =========================
logging:
  level:
    root: INFO
    com.drtx.ecomerce.amazon: ${APP_LOG_LEVEL:DEBUG}
    com.drtx.ecomerce.amazon.application.usecases.auth: ${AUTH_LOG_LEVEL:DEBUG}
    com.drtx.ecomerce.amazon.infrastructure.security: ${SECURITY_LOG_LEVEL:DEBUG}
    com.drtx.ecomerce.amazon.adapters.in.security: ${SECURITY_LOG_LEVEL:DEBUG}
    org.springframework.security: ${SPRING_SECURITY_LOG_LEVEL:DEBUG}
    org.hibernate.SQL: ${SQL_LOG_LEVEL:DEBUG}

# =========================
# CORS (Desarrollo - localhost)
# =========================
cors:
  allowed-origins: ${CORS_ALLOWED_ORIGINS:http://localhost:3000,http://localhost:5173}

